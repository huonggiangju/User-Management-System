<!DOCTYPE html>
<html xmls:th="http://www.thymeLeaf.org">
<head>
<meta charset="UTF-8">
<title>Manage Users</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" 
		integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body >
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
	  <a class="navbar-brand" href="#">User Management</a>
	  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
	    <span class="navbar-toggler-icon"></span>
	  </button>
	  <div class="collapse navbar-collapse" id="navbarNav">
	    <ul class="navbar-nav">
	      <li class="nav-item ">
	        <a class="nav-link" th:href="@{/users}">Home </a>
	      </li>
	      <li class="nav-item ">
	        <a class="nav-link" th:href="@{/register}">Register</a>
	      </li>
	      <li class="nav-item ">
	        <a class="nav-link" th:href="@{/logout}">Logout </a>
	      </li>
	      
	    </ul>
	  </div>
	</nav>
	<br>
	
	<div class="container text-center">
		<div>
			<p>Welcome <b>[[${#request.userPrincipal.principal.fullName}]]</b></p>
		</div>
		<h1>Manage Users</h1>
		
		<div>
			<a class = "btn btn-primary" th:href="@{/users/new}">Add New User</a>
		</div>
		<br>
		<div th:if="${message}" class="alert alert-success text-center">
				 [[${message}]]
		</div>
			<br>	
		<div>
			<table class="table table-striped">
			  <thead class="thead-dark">
			    <tr>
			      <th scope="col">First Name</th>
			      <th scope="col">Last Name</th>
			      <th scope="col">Email</th>
			      <th scope="col">Action</th>
			    </tr>
			  </thead>
			  <tbody>
			  	<th:block th:each="user : ${listUsers}">
				    <tr>
				      	<td>[[${user.firstname}]]</td>
				      	<td>[[${user.lastname}]]</td>
				      	<td>[[${user.email}]]</td>
				      	<td>
				      		<a class = "btn btn-primary" th:href="@{'/users/edit/' + ${user.id}} ">Update</a>
				      		<a class = "btn btn-danger" th:href="@{'/users/delete/' + ${user.id}} ">Delete</a>
				      	</td>
				    </tr> 
			   </th>
			  </tbody>
		</table>
		
		</div>
	</div>
	

</body>
</html>